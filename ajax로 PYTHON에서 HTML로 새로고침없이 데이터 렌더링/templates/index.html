<!DOCTYPE html>
<html>
<head>
    <title>AJAX Example</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!-- svg나 다른 파일 templates 혹은 static 파일등. "특정 폴더"를 만들고 거기에 넣어줘야 함!!! 그냥 해당 절대경로, 상대경로 안 먹힘.... -->
    
    <!--골 때리는게 왜... static안에 있으니까 그냥 초록.svg로 하면 안 먹힘... static/초록.svg로 확인사살을 해야 됨. (그렇다고 render_template()은 index.html로 파일만 입력해도 됨... 이해가 안된다 그냥 받아들이는 수밖에)-->
    <style>
        body {
            background-image: url('/static/초록.svg');
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
        
</head>
<body>
    <h1 id="age">Loading...</h1>
    <h2 id="gwang">something missing</h2>
    <!-- <img src="초록.svg" alt="Description of image"> -->
    <script>
        $(document).ready(function(){
            setInterval(function(){
                $.ajax({
                    url: '/data',  // 요청을 보낼 URL
                    type: 'GET',   // HTTP 메소드
                    success: function(what) {  // 응답 받았을 때 실행될 함수
                        // '#age' 요소의 텍스트를 서버로부터 받아온 'age' 값으로 설정
                        $('#age').text('city: ' + what.name);
                    }
                });
            }, 1000);  // 5000 밀리초(5초)마다 함수 실행
           
            setInterval(function(){
                $.ajax({
                    url: '/gwangun',  // 요청을 보낼 URL
                    type: 'GET',   // HTTP 메소드
                    success: function(오광운) {  // 응답 받았을 때 실행될 함수
                        // '#age' 요소의 텍스트를 서버로부터 받아온 'age' 값으로 설정
                        $('#gwang').text('hmmmm: ' + 오광운);
                    }
                });
            }, 10);  // 5000 밀리초(5초)마다 함수 실행
     
        });
    </script>
</body>
</html>
